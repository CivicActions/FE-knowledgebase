{"version":3,"sources":["webpack:///./src/pages/patternlab/patternlab-from-scratch.mdx"],"names":["_frontmatter","layoutProps","MDXContent","components","props","mdxType","title","parentName","isMDXComponent"],"mappings":"2RAOO,IAAMA,EAAe,GAOtBC,EAAc,CAClBD,gBAGa,SAASE,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YALS,UAKT,iBAAeH,EAAiBG,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAE5E,YAAC,IAAD,CAAQA,QAAQ,UACd,YAAC,IAAD,CAAKC,MAAM,0CAA0CD,QAAQ,QAC7D,iEACA,mDAAkC,0BAAYE,WAAW,KAAvB,0BAAlC,KACA,uLACA,kDAAiC,0BAAYA,WAAW,KAAvB,oCAAjC,uMACA,0GAAyF,0BAAYA,WAAW,KAAvB,wBAAzF,obACA,qGAAoF,0BAAYA,WAAW,KAAvB,gCAApF,6DACA,4DACA,gMAA+K,0BAAYA,WAAW,KAAvB,4CAA/K,8DACA,qEAAoD,0BAAYA,WAAW,KAAvB,0BAApD,kCAAyJ,0BAAYA,WAAW,KAAvB,oBAAzJ,uCAA6P,0BAAYA,WAAW,KAAvB,SAA7P,OAAsT,0BAAYA,WAAW,KAAvB,UAAtT,KACA,6DAA4C,0BAAYA,WAAW,KAAvB,oBAA5C,uWACA,uDACA,yJAAwI,0BAAYA,WAAW,KAAvB,4CAAxI,eACA,2DAA0C,0BAAYA,WAAW,KAAvB,0BAA1C,2FACA,uGAAsF,0BAAYA,WAAW,KAAvB,oBAAtF,uCAA0L,0BAAYA,WAAW,KAAvB,SAA1L,OAAmP,0BAAYA,WAAW,KAAvB,UAAnP,KACA,4FAA2E,0BAAYA,WAAW,KAAvB,WAA3E,mGACA,uBAAK,kCAAMA,WAAW,OAAU,IAA3B,6rBAwCL,wKAAuJ,0BAAYA,WAAW,KAAvB,YAAvJ,kGAA8S,0BAAYA,WAAW,KAAvB,YAA9S,+IACA,2JACA,0DAAyC,0BAAYA,WAAW,KAAvB,oBAAzC,kEACA,qDACA,wSACA,oCACA,6BACA,8OAA6N,0BAAYA,WAAW,KAAvB,0BAA7N,eAA+S,0BAAYA,WAAW,KAAvB,OAA/S,kGAAic,0BAAYA,WAAW,KAAvB,0BAAjc,UACA,sSACA,4BACA,4LAA2K,0BAAYA,WAAW,KAAvB,MAA3K,iGAA2T,0BAAYA,WAAW,KAAvB,0BAA3T,UACA,uXACA,8BACA,0eACA,gCACA,qiBACA,4mBACA,8BACA,yJACA,uBAAK,kCAAMA,WAAW,OAAU,IAA3B,whBAiBL,gFACJ,0BAAYA,WAAW,KAAvB,0CADI,4FAEA,yKAMNL,EAAWM,gBAAiB","file":"component---src-pages-patternlab-patternlab-from-scratch-mdx-dccb6427fb78c36636ae.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport Layout from '../../components/layout';\nimport SEO from '../../components/seo';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <Layout mdxType=\"Layout\">\n      <SEO title=\"Installing Node PatternLab from scratch\" mdxType=\"SEO\" />\n      <h1>{`Installing Node PatternLab from scratch`}</h1>\n      <p>{`Kick things off by running `}<inlineCode parentName=\"p\">{`npm create pattern-lab`}</inlineCode>{`.`}</p>\n      <p>{`At the next prompt, pick an install location, if you are working on a Drupal theme you should place PatternLab in its own directory off the root of the theme.`}</p>\n      <p>{`At the next prompt select `}<inlineCode parentName=\"p\">{`edition-node (handlebars engine)`}</inlineCode>{` this is confusing since we ultimately want to use the php-twig engine, but we can get there with the node version. All other version are deprecated, don't start a new project with anything else.`}</p>\n      <p>{`Next you will need to make a choice between a starterkit or a blank slate. Choose `}<inlineCode parentName=\"p\">{`starterkit-twig-demo`}</inlineCode>{` if you want something that works out of the box. Keep in mind that you will likely have to delete and modify a bunch of files down the road. This is a good option if it is your first time using PatternLab. It serves as a great example for how to structure and setup patterns. The twig starter kit is good if you are working within Drupal. If no Drupal, then you can choose what is best for the flavor of project you are working on.`}</p>\n      <p>{`If you want to get started straight away with a custom instance, then choose `}<inlineCode parentName=\"p\">{`None (Start a blank project)`}</inlineCode>{`. Skip the next section if you are doing a blank project.`}</p>\n      <h2>{`Starting with starterkit-twig-demo`}</h2>\n      <p>{`As of this writing there is a mistake in the starterkit package.json file. It is adding the handlebars engine as a dependency instead of the twig engine. To add it run `}<inlineCode parentName=\"p\">{`npm install @pattern-lab/engine-twig-php`}</inlineCode>{` if its already in package.json, you can just ignore this.`}</p>\n      <p>{`Another thing that needs adjusting is in the `}<inlineCode parentName=\"p\">{`patternlab-config.json`}</inlineCode>{` file. Open it up and find the `}<inlineCode parentName=\"p\">{`patternExtension`}</inlineCode>{` property and change the value from `}<inlineCode parentName=\"p\">{`“hbs”`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`“twig”`}</inlineCode>{`.`}</p>\n      <p>{`After it is finished installing, run `}<inlineCode parentName=\"p\">{`npm run pl:serve`}</inlineCode>{` to spin up the style guide locally. It should open the style guide in your browser once it completes. Here you can see a fully built example of a style guide. If you wish to use this foundation then you are all done and can start modifying and removing the existing patterns and templates. You can skip the next section for starting with a blank project.`}</p>\n      <h2>{`Starting with a blank project`}</h2>\n      <p>{`Assuming that this will be a twig based project, the first thing you will want to do is add the twig engine as a dependency. Run `}<inlineCode parentName=\"p\">{`npm install @pattern-lab/engine-twig-php`}</inlineCode>{` to add it.`}</p>\n      <p>{`Next you will want to pop open the `}<inlineCode parentName=\"p\">{`patternlab-config.json`}</inlineCode>{` file. Here is where you will define your patterns and the directories they resolve to.`}</p>\n      <p>{`First thing to change is the output in the style guide to be in twig, find the `}<inlineCode parentName=\"p\">{`patternExtension`}</inlineCode>{` property and change the value from `}<inlineCode parentName=\"p\">{`“hbs”`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`“twig”`}</inlineCode>{`.`}</p>\n      <p>{`Next you will need to add the namespace definitions for twig to the `}<inlineCode parentName=\"p\">{`engines`}</inlineCode>{` object. This can be different from project to project but here is an example of a basic setup:`}</p>\n      <pre><code parentName=\"pre\" {...{}}>{`\"twig\": {\n  \"namespaces\": [\n    {\n      \"id\": \"atoms\",\n      \"recursive\": true,\n      \"paths\": [\n        \"source/_patterns/00-atoms\"\n      ]\n    },\n    {\n      \"id\": \"molecules\",\n      \"recursive\": true,\n      \"paths\": [\n        \"source/_patterns/01-molecules\"\n      ]\n    },\n    {\n      \"id\": \"organisms\",\n      \"recursive\": true,\n      \"paths\": [\n        \"source/_patterns/02-organisms\"\n      ]\n    },\n    {\n      \"id\": \"templates\",\n      \"recursive\": true,\n      \"paths\": [\n        \"source/_patterns/03-templates\"\n      ]\n    },\n    {\n      \"id\": \"pages\",\n      \"recursive\": true,\n      \"paths\": [\n        \"source/_patterns/04-pages\"\n      ]\n    }\n  ]\n}\n`}</code></pre>\n      <p>{`This will define the location of the different pattern types in the source directory. Make sure to create these directories next. You can add a `}<inlineCode parentName=\"p\">{`.gitkeep`}</inlineCode>{` file to each as a placeholder if you don’t have any patterns to create yet. You will want the `}<inlineCode parentName=\"p\">{`.gitkeep`}</inlineCode>{` file for your repo because PatternLab will error out while building if the directory doesn’t exist and git won’t track an empty directory.`}</p>\n      <p>{`Next create at least one pattern. A good start is to add something basic in atoms like an example of the color palette to be used.`}</p>\n      <p>{`Once that is in place you can run `}<inlineCode parentName=\"p\">{`npm run pl:serve`}</inlineCode>{` to get PatternLab to build and serve the style guide locally.`}</p>\n      <h2>{`Editing and adding patterns`}</h2>\n      <p>{`Pretty much every file that you will want to edit will be in the source directory. Every project is different and may have patterns setup slightly different. If it is an existing project, a quick scan of the patterns directory in source will tell you the basic structure.`}</p>\n      <h2>{`CSS and JS`}</h2>\n      <h3>{`CSS`}</h3>\n      <p>{`There is nothing PatternLab specific about how CSS/SASS is handled. If this is part of a Drupal theme, you can have SASS compiled outside of PatternLab. You will need to define the path to the compiled CSS file in `}<inlineCode parentName=\"p\">{`patternlab-config.json`}</inlineCode>{`. It is the `}<inlineCode parentName=\"p\">{`css`}</inlineCode>{` value in the paths->source object. The value is the path to the css directory relative to the `}<inlineCode parentName=\"p\">{`patternlab-config.json`}</inlineCode>{` file.`}</p>\n      <p>{`Again, every project is different but it is good organizational practice to add sass partials for each pattern along side the twig file. If you do this, you will need to make sure that your sass compiler knows to search through the patterns directory for sass partials.`}</p>\n      <h3>{`JS`}</h3>\n      <p>{`Similar to CSS you will want to add the path to a directory containing the JS you would like to load with the style guide. For javascript you will want to edit the `}<inlineCode parentName=\"p\">{`js`}</inlineCode>{` value in the paths->source object. The value is the path to the js directory relative to the `}<inlineCode parentName=\"p\">{`patternlab-config.json`}</inlineCode>{` file.`}</p>\n      <p>{`There are a bunch of ways to handle this, above is just one example. You can also decide to handle JS and CSS at the component level within PatternLab and add those as libraries within your Drupal theme. There are many ways to do this, pick one that you comfortably understand or ask in the #engineering-frontend slack channel if you would like help.`}</p>\n      <h3>{`Data`}</h3>\n      <p>{`The PatternLab style guide operates outside of your CMS or app so to show data in your patterns, you will need to supply some dummy data. A good approach is to create a data file in the same directory that the pattern is. This is similar to the approach mentioned above for sass partials. The data needs to be a json file with the same base name as your pattern. The file will contain a json object with the datapoints you defined in the pattern, with dummy values.`}</p>\n      <h3>{`Drupal`}</h3>\n      <p>{`So if setting all of that up wasn’t bad enough, now you need to somehow make this all work with Drupal. The basic idea here is that you will create a new template or template override that includes a PatternLab pattern with data passed to it. Most of the complexity is in understanding the data structure available to the template and sending it over in a structure that the pattern is expecting. This sometimes requires preprocessing at different levels to make data available or to make the data structure more simplistic.`}</p>\n      <p>{`You should remain conscious of the kind of Drupal constructs that you are handing off to PatternLab. For example if you are rendering a block with a pattern from PatternLab, you will also want to include the Drupal attributes available to the template that is being overwritten as well as the prefix and suffix. Some of these things contain the frontend editing context tools for blocks as well as different class names and attributes that other modules key off of for functionality. You can get more info and help with this from the #engineering-drupal and #engineering-frontend slack channels.`}</p>\n      <h4>{`Tip:`}</h4>\n      <p>{`Define your patterns as component-libraries in the theme info file to make including them in templates a little easier. Example:`}</p>\n      <pre><code parentName=\"pre\" {...{}}>{`component-libraries:\n  atoms:\n    paths:\n      - [path to PatternLab relative to info file]/source/_patterns/atoms\n  molecules:\n    paths:\n      - [path to PatternLab relative to info file]/source/_patterns/molecules\n  organisms:\n    paths:\n      - [path to PatternLab relative to info file]/source/_patterns/organisms\n  templates:\n    paths:\n      - [path to PatternLab relative to info file]/source/_patterns/templates\n  pages:\n    paths:\n      - [path to PatternLab relative to info file]/source/_patterns/pages\n`}</code></pre>\n      <p>{`This will allow you to do the following in a template:\n`}<inlineCode parentName=\"p\">{`include '@molecules/01-card/card.twig’`}</inlineCode>{`. This is handy when the theme's templates are all nested at different directory levels.`}</p>\n      <p>{`That is your basic crash course in PatternLab, if you find something incorrect or wish to contribute to these docs, PRs are more than welcome.`}</p>\n    </Layout>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}